{% extends 'base.html' %}
{% load static %} 

{% block title %}Tami Corp{% endblock %}

{% block content %}
<div class="container-fluid pt-4 px-4">
    <h1 class="mb-4">Welcome, {{ name }}!</h1>

    <!-- 카드 영역 -->
    <div class="row g-4 mb-5">
        {% for card in cards %}
        <div class="col-sm-6 col-xl-3">
            <div class="bg-secondary rounded d-flex align-items-center justify-content-between p-4">
                <i class="fa {{ card.icon }} fa-3x text-primary"></i>
                <div class="ms-3">
                    <p class="mb-2">{{ card.title }}</p>
                    <h6 class="mb-0">{{ card.value }}</h6>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>

    <!-- 차트 영역 -->
    <div class="row g-4">

        <!-- Single Line Chart -->
        <div class="col-md-6">
            <h5>Single Line Chart</h5>
            <canvas id="singleLineChart"></canvas>
        </div>

        <!-- Multi Line Chart -->
        <div class="col-md-6">
            <h5>Multi Line Chart</h5>
            <canvas id="multiLineChart"></canvas>
        </div>

        <!-- Single Bar Chart -->
        <div class="col-md-6">
            <h5>Single Bar Chart</h5>
            <canvas id="singleBarChart"></canvas>
        </div>

        <!-- Multi Bar Chart -->
        <div class="col-md-6">
            <h5>Multi Bar Chart</h5>
            <canvas id="multiBarChart"></canvas>
        </div>

        <!-- Pie Chart -->
        <div class="col-md-6">
            <h5>Pie Chart</h5>
            <canvas id="pieChart"></canvas>
        </div>

        <!-- Doughnut Chart -->
        <div class="col-md-6">
            <h5>Doughnut Chart</h5>
            <canvas id="doughnutChart"></canvas>
        </div>
    </div>
</div>

<!-- Chart.js 라이브러리 -->
<script src="{% static 'lib/chart/chart.min.js' %}"></script>
<script>
    const textColor = "#6C7293";
    const gridColor = "rgba(255,255,255,.1)";
    const commonOptions = {
        responsive: true,
        plugins: {
            legend: {
                labels: { color: textColor }
            }
        },
        scales: {
            x: { ticks: { color: textColor }, grid: { color: gridColor } },
            y: { ticks: { color: textColor }, grid: { color: gridColor } }
        }
    };

    // Single Line Chart
    new Chart(document.getElementById('singleLineChart'), {
        type: 'line',
        data: {
            labels: ['Jan', 'Feb', 'Mar', 'Apr'],
            datasets: [{
                label: 'Sales',
                data: [12, 19, 3, 5],
                borderColor: 'rgba(235, 22, 22, .7)',
                backgroundColor: 'rgba(235, 22, 22, .3)',
                tension: .4,
                fill: false
            }]
        },
        options: commonOptions
    });

    // Multi Line Chart
    new Chart(document.getElementById('multiLineChart'), {
        type: 'line',
        data: {
            labels: ['Jan', 'Feb', 'Mar', 'Apr'],
            datasets: [
                {
                    label: 'Sales',
                    data: [12,19,3,5],
                    borderColor: 'rgba(235, 22, 22, .7)',
                    tension: .4,
                    fill: false
                },
                {
                    label: 'Users',
                    data: [2,9,13,5],
                    borderColor: 'rgba(0, 156, 255, .7)',
                    tension: .4,
                    fill: false
                }
            ]
        },
        options: commonOptions
    });

    // Single Bar Chart
    new Chart(document.getElementById('singleBarChart'), {
        type: 'bar',
        data: {
            labels: ['Jan', 'Feb', 'Mar', 'Apr'],
            datasets: [{
                label: 'Sales',
                data: [12,19,3,5],
                backgroundColor: 'rgba(235, 22, 22, .7)'
            }]
        },
        options: commonOptions
    });

    // Multi Bar Chart
    new Chart(document.getElementById('multiBarChart'), {
        type: 'bar',
        data: {
            labels: ['Jan', 'Feb', 'Mar', 'Apr'],
            datasets: [
                {
                    label: 'Sales',
                    data: [12,19,3,5],
                    backgroundColor: 'rgba(235, 22, 22, .7)'
                },
                {
                    label: 'Users',
                    data: [2,9,13,5],
                    backgroundColor: 'rgba(0, 156, 255, .7)'
                }
            ]
        },
        options: commonOptions
    });

    // Pie Chart
    new Chart(document.getElementById('pieChart'), {
        type: 'pie',
        data: {
            labels: ['Sales','Users','Other'],
            datasets: [{
                data: [12,19,3],
                backgroundColor: [
                    'rgba(235, 22, 22, .7)',
                    'rgba(0, 156, 255, .7)',
                    'rgba(40, 167, 69, .7)'
                ]
            }]
        },
        options: {
            plugins: { legend: { labels: { color: textColor } } }
        }
    });

    // Doughnut Chart
    new Chart(document.getElementById('doughnutChart'), {
        type: 'doughnut',
        data: {
            labels: ['Sales','Users','Other'],
            datasets: [{
                data: [12,19,3],
                backgroundColor: [
                    'rgba(235, 22, 22, .7)',
                    'rgba(0, 156, 255, .7)',
                    'rgba(40, 167, 69, .7)'
                ]
            }]
        },
        options: {
            plugins: { legend: { labels: { color: textColor } } }
        }
    });
</script>
{% endblock %}
